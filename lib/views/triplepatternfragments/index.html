<% /* @license MIT Â©2013-2016 Ruben Verborgh, Ghent University - imec */ -%>
<% inherits('base') %>
<%
var rdf  = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',
    rdfs = 'http://www.w3.org/2000/01/rdf-schema#',
    dc   = 'http://purl.org/dc/terms/',
    voID = 'http://rdfs.org/ns/void#';
%>

<% if (!query.features.triplePattern) { %>
<div class="index">
  <h2>Available datasets</h2>
  <p>Browse the following datasets as <a href="http://linkeddatafragments.org/in-depth/#tpf">Triple Pattern Fragments</a>:</p>
  <dl class="datasets">
    <% for (var datasourceName in datasources) {
         var datasource = datasources[datasourceName];
         if (datasource.role === 'index' || datasource.hide) continue; %>
        <dt><a href="<%= datasource.url.replace(/#.*/, '') %>"><%= datasource.title %></a></dt>
        <dd><%= datasource.description || 'Â ' %></dd>
    <% } %>
  </dl>
  <p>The current dataset <em class="dataset">index</em> contains metadata about these datasets.</p>
</div>
<% } %>

<%- render('fragment') %>
